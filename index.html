<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BayeSED3 - Bayesian SED Analysis Tool</title>
    <style>
        /* Modern CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 1px solid #eaecef;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #24292e;
        }

        .header h2 {
            font-weight: normal;
            color: #586069;
            margin: 10px 0;
        }

        .header p {
            color: #586069;
            font-size: 1.2em;
        }

        /* Main Content Styles */
        .main-content {
            padding: 40px 0;
        }

        h2 {
            margin: 30px 0 15px;
            color: #24292e;
        }

        p {
            margin-bottom: 15px;
        }

        /* Feature Grid */
        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        /* Make it responsive for smaller screens */
        @media (max-width: 900px) {
            .features {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .features {
                grid-template-columns: 1fr;
            }
        }

        .feature-card {
            padding: 20px;
            border: 1px solid #eaecef;
            border-radius: 6px;
            background: #fff;
        }

        /* Code Blocks */
        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
        }

        code {
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }

        /* Citation Box */
        .citation {
            background: #f6f8fa;
            padding: 20px;
            border-radius: 6px;
            margin: 30px 0;
        }

        /* Star History Chart */
        .star-history {
            width: 100%;
            max-width: 800px;
            margin: 30px auto;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 40px;
            border-top: 1px solid #eaecef;
            color: #586069;
        }

        /* Buttons */
        .button {
            display: inline-block;
            padding: 10px 20px;
            background: #2ea44f;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px;
        }

        .button:hover {
            background: #2c974b;
        }

        /* Add Dify chatbot styles */
        #dify-chatbot-bubble-button {
            background-color: #1C64F2 !important;
        }
        #dify-chatbot-bubble-window {
            width: 24rem !important;
            height: 40rem !important;
        }

        /* Gallery Styles */
        .gallery {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
        }

        .gallery-item {
            text-align: center;
            max-width: 100%;
        }

        .gallery-item img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .gallery-item p {
            margin-top: 10px;
            color: #586069;
        }

        /* Technical Details */
        .technical-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }

        .technical-details h3 {
            color: #24292e;
            margin-top: 20px;
        }

        .technical-details ul {
            margin-left: 20px;
        }

        .technical-details code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
        }
    </style>

    <!-- Add Dify chatbot configuration -->
    <script>
        window.difyChatbotConfig = {
            token: 'Gmni8M7sHDKWG67F'
        }
    </script>
    <script
        src="https://udify.app/embed.min.js"
        id="Gmni8M7sHDKWG67F"
        defer>
    </script>
</head>
<body>
    <div class="header">
        <h1>BayeSED3</h1>
        <h2 style="font-weight: normal; color: #586069; margin: 10px 0;">A code for Bayesian SED synthesis and analysis of galaxies and AGNs</h2>
        <img src="BayeSED3.jpg" alt="BayeSED3 Logo" style="width: 200px; margin: 20px auto;">
        <p style="font-style: italic;">"With four parameters I can fit an elephant, and with five I can make him wiggle his trunk."</p>
        <p style="font-size: 0.9em;">- Attributed to John von Neumann</p>
        <div>
            <a href="https://github.com/hanyk/BayeSED3" class="button">View on GitHub</a>
        </div>
    </div>

    <div class="main-content">
        <h2>Overview</h2>
        <p>BayeSED3 is a general and sophisticated tool for the full Bayesian interpretation of spectral energy distributions (SEDs) of galaxies and AGNs. It performs Bayesian parameter estimation using posteriori probability distributions (PDFs) and Bayesian SED model comparison using Bayesian evidence. BayeSED3 supports various built-in SED models and can emulate other SED models using machine learning techniques.</p>

        <h2>Key Features</h2>
        <div class="features">
            <div class="feature-card">
                <h3>Multi-component Analysis</h3>
                <p>Comprehensive SED synthesis and analysis for galaxies and AGNs</p>
            </div>
            <div class="feature-card">
                <h3>Stellar Population</h3>
                <p>Non-parametric and parametric star formation history with flexible stellar population synthesis</p>
            </div>
            <div class="feature-card">
                <h3>Dust & Gas Modeling</h3>
                <p>Flexible dust attenuation, emission, and gas kinematics modeling</p>
            </div>
            <div class="feature-card">
                <h3>AGN Components</h3>
                <p>Comprehensive AGN modeling including accretion disk, BLR, NLR, and Torus</p>
            </div>
            <div class="feature-card">
                <h3>IGM Absorption</h3>
                <p>Intergalactic medium absorption modeling</p>
            </div>
            <div class="feature-card">
                <h3>Data Analysis</h3>
                <p>Handles both photometric and spectroscopic data with Bayesian analysis</p>
            </div>
            <div class="feature-card">
                <h3>Machine Learning</h3>
                <p>SED model emulation using machine learning techniques</p>
            </div>
            <div class="feature-card">
                <h3>User Interface</h3>
                <p>User-friendly CLI, Python script and GUI interfaces</p>
            </div>
            <div class="feature-card">
                <h3>Performance</h3>
                <p>Parallel processing support for improved performance</p>
            </div>
        </div>

        <h2>Installation</h2>
        <pre><code># Clone the repository
git clone https://github.com/hanyk/BayeSED3.git
cd BayeSED3

# Install OpenMPI (automatic installation)
# For manual installation:
wget https://download.open-mpi.org/release/open-mpi/v4.1/openmpi-4.1.6.tar.gz
tar xzvf openmpi-4.1.6.tar.gz
cd openmpi-4.1.6
./configure --prefix=$PWD/../openmpi
make
make install

# Install Python dependencies
pip install -r requirements.txt

# Optional: Install HDF5 utilities and tkinter for GUI
# See README for platform-specific instructions</code></pre>

        <h2>Example Results</h2>
        
        <h3>1. SDSS spectroscopic SED analysis</h3>
        <pre><code>python run_test.py gal plot
python run_test.py qso plot</code></pre>
        <div class="gallery">
            <div class="gallery-item">
                <img src="output/gal/spec-0285-51930-0184_GALAXY_STARFORMING/0Stellar+Nebular_2dal8_10_sys_err0_bestfit.fits.png" 
                     alt="Galaxy SED Fit">
                <p>Best-fit galaxy spectrum (SDSS spec-0285-51930-0184)</p>
            </div>
            <div class="gallery-item">
                <img src="output/qso/spec-2091-53447-0584_QSO_BROADLINE/0Stellar+Nebular_2dal8_10_1bbb_2dal7_15_2BLR_kin_eml3_13_3FeII_kin_con2_6_4NLR_kin_eml2_13_sys_err0_bestfit.fits.png" 
                     alt="QSO SED Fit">
                <p>Best-fit QSO spectrum (SDSS spec-2091-53447-0584)</p>
            </div>
        </div>

        <h3>2. Photometric SED analysis</h3>
        <pre><code>python run_test.py test1 plot  # Basic mock
python run_test.py test2 plot  # W0533 ALMA data</code></pre>
        <div class="gallery">
            <div class="gallery-item">
                <img src="test1/test_inoise1/0/0csp_sfh200_bc2003_lr_BaSeL_chab_i0000_2dal8_10_z_CSST_bestfit.fits.png" 
                     alt="Best-fit mock_phot">
                <p>Basic mock photometric analysis</p>
            </div>
            <div class="gallery-item">
                <img src="test2/W0533_ALMA/W0533/0csp_sfh200_bc2003_lr_BaSeL_chab_i0000_2dal7_10_1gb_8_2clumpy201410tor_1_bestfit.fits.png" 
                     alt="Best-fit W0533">
                <p>W0533 ALMA data analysis</p>
            </div>
        </div>

        <h3>3. CSST Mock Analysis</h3>
        <pre><code>python run_test.py test3 phot plot  # Phot only
python run_test.py test3 spec plot  # Spec only 
python run_test.py test3 both plot  # Combined</code></pre>
        <div class="gallery">
            <div class="gallery-item">
                <img src="test3/seedcat2_0_STARFORMING_inoise2/8144596/0csp_sfh201_bc2003_hr_stelib_chab_neb_300r_i0100_rdf0_2dal8_10_z_phot_bestfit.fits.png" 
                     alt="Best-fit csst_mock_phot">
                <p>CSST mock photometric analysis</p>
            </div>
            <div class="gallery-item">
                <img src="test3/seedcat2_0_STARFORMING_inoise2/8144596/0csp_sfh201_bc2003_hr_stelib_chab_neb_300r_i0100_rdf0_2dal8_10_z_spec_bestfit.fits.png" 
                     alt="Best-fit csst_mock_spec">
                <p>CSST mock spectroscopic analysis</p>
            </div>
            <div class="gallery-item">
                <img src="test3/seedcat2_0_STARFORMING_inoise2/8144596/0csp_sfh201_bc2003_hr_stelib_chab_neb_300r_i0100_rdf0_2dal8_10_z_both_bestfit.fits.png" 
                     alt="Best-fit csst_mock_both">
                <p>CSST mock combined analysis</p>
            </div>
            <div class="gallery-item">
                <img src="test3/seedcat2_0_STARFORMING_inoise2/8144596/pdftree.png" 
                     alt="pdftree csst_mock_all">
                <p>PDF tree visualization</p>
            </div>
        </div>

        <h2>AGN Host Decomposition</h2>
        <p>Try our new approach to constraining properties of AGN host galaxies by combining image and SED decomposition:</p>
        <pre><code>jupyter-notebook observation/agn_host_decomp/demo.ipynb</code></pre>
        <p>View the <a href="https://github.com/hanyk/BayeSED3/blob/main/observation/agn_host_decomp/demo.ipynb">demo notebook</a> for detailed examples and documentation.</p>

        <h2>Supported Platforms</h2>
        <ul>
            <li>Linux: x86_64 architecture</li>
            <li>macOS: x86_64 architecture (ARM supported via Rosetta 2)</li>
            <li>Windows: Supported through Windows Subsystem for Linux (WSL)</li>
        </ul>

        <h2>Citation</h2>
        <div class="citation">
            <p>If BayeSED3 has been helpful in your research, please cite:</p>
            <ul>
                <li>Han, Y., & Han, Z. 2012, ApJ, 749, 123</li>
                <li>Han, Y., & Han, Z. 2014, ApJS, 215, 2</li>
                <li>Han, Y., & Han, Z. 2019, ApJS, 240, 3</li>
                <li>Han, Y., Fan, L., Zheng, X. Z., Bai, J.-M., & Han, Z. 2023, ApJS, 269, 39</li>
                <li>Han, Y., et al. 2024a, in prep.</li>
            </ul>
        </div>

        <h2>Graphical User Interface</h2>
        <p>BayeSED3 provides a user-friendly GUI interface. Launch it with:</p>
        <pre><code>python bayesed_gui.py</code></pre>
        <img src="BayeSED3_GUI.png" alt="BayeSED3 GUI Interface" style="max-width: 100%; margin: 20px 0;">

        <h2>Technical Details</h2>
        <div class="technical-details">
            <h3>Machine Learning Components</h3>
            <p>BayeSED3 uses advanced machine learning techniques including:</p>
            <ul>
                <li><strong>FANN (Fast Artificial Neural Network)</strong>: For SED model emulation</li>
                <li><strong>AKNN (Approximate K-Nearest Neighbors)</strong>: For efficient model comparison</li>
            </ul>

            <h3>Key Files</h3>
            <ul>
                <li><code>bayesed.py</code>: Main interface class for BayeSED3</li>
                <li><code>bayesed_gui.py</code>: Graphical User Interface</li>
                <li><code>run_test.py</code>: Script to run examples</li>
                <li><code>requirements.txt</code>: Python dependencies</li>
                <li><code>bin/</code>: BayeSED3 executables for different platforms</li>
                <li><code>nets/</code>: FANN and AKNN models for SED emulation</li>
                <li><code>data/</code>: Additional data files</li>
            </ul>
        </div>

        <h2>Contributing</h2>
        <p>We welcome contributions to BayeSED3! If you'd like to help improve the project:</p>
        <ul>
            <li>Submit issues for bug reports or feature requests</li>
            <li>Create pull requests with improvements</li>
            <li>Please ensure all tests are updated before submitting changes</li>
        </ul>

        <h2>Star History</h2>
        <div class="star-history">
            <a href="https://star-history.com/#hanyk/BayeSED3&Date">
                <img src="https://api.star-history.com/svg?repos=hanyk/BayeSED3&type=Date" alt="Star History Chart">
            </a>
        </div>

    </div>

    <div class="footer">
        <p>© 2012-2024 BayeSED3 Team. All rights reserved.</p>
        <p>Licensed under the <a href="LICENSE">MIT License</a></p>
    </div>
</body>
</html> 
